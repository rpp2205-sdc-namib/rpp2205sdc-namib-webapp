/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkmy_webpack_project"] = self["webpackChunkmy_webpack_project"] || []).push([["client_src_components_Questions_Answers_Questions_Answers_jsx"],{

/***/ "./client/src/components/Questions_Answers/Answer.jsx":
/*!************************************************************!*\
  !*** ./client/src/components/Questions_Answers/Answer.jsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hoc_click_data.jsx */ \"./client/src/components/hoc_click_data.jsx\");\n\n // this class handles each answer for the specific product\n\nclass Answer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      helpfulness: props.answer.helpfulness,\n      isYesClicked: false,\n      isReported: false\n    };\n    this.handleReport = this.handleReport.bind(this);\n    this.handleIncreaseCounts = this.handleIncreaseCounts.bind(this);\n    this.handleDateFormat = this.handleDateFormat.bind(this);\n  }\n\n  handleReport(e) {\n    this.props.interaction(e.target);\n    this.setState({\n      isReported: true\n    }, () => {\n      axios__WEBPACK_IMPORTED_MODULE_0___default().put(`/qa/answers/${this.props.answer.answer_id}/report`).then(data => {\n        if (data.status !== 204) {\n          throw err;\n        }\n      }).catch(err => {\n        console.log('failed to increment the count');\n      });\n    });\n  }\n\n  handleIncreaseCounts(e) {\n    this.props.interaction(e.target);\n    this.setState({\n      isYesClicked: true,\n      helpfulness: this.state.helpfulness + 1\n    }, () => {\n      axios__WEBPACK_IMPORTED_MODULE_0___default().put(`/qa/answers/${this.props.answer.answer_id}/helpful`).then(data => {\n        if (data.status !== 204) {\n          throw err;\n        }\n      }).catch(err => {\n        console.log('failed to increment the count');\n      });\n    });\n  }\n\n  handleDateFormat(date) {\n    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    let d = new Date(date);\n    let day = d.getDate();\n    let month = monthNames[d.getMonth()];\n    let year = d.getFullYear();\n    return `${month} ${day}, ${year}`;\n  }\n\n  render() {\n    let {\n      body,\n      answerer_name,\n      date\n    } = this.props.answer;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"answer_container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"answer_symbol\"\n    }, \"A: \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"answer_text\"\n    }, body)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"answer_sub\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"by\"\n    }, \"by\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: answerer_name === \"Seller\" ? 'seller' : 'answerer'\n    }, answerer_name === \"Seller\" ? \"Seller\" : answerer_name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"answer_date\"\n    }, this.handleDateFormat(date)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border_line\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"helpful_text\"\n    }, \"Helpful?\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"yes_button\",\n      disabled: this.state.isYesClicked,\n      onClick: this.handleIncreaseCounts\n    }, \"Yes\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"helpfulness_number\"\n    }, \"(\", this.state.helpfulness, \")\"), this.state.isReported ? /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.state.isReported,\n      className: \"report_button\",\n      role: \"button\"\n    }, \"Reported\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"report_button\",\n      role: \"button\",\n      onClick: this.handleReport\n    }, \"Report\")));\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Answer, 'questions_answers'));\n\n//# sourceURL=webpack://my-webpack-project/./client/src/components/Questions_Answers/Answer.jsx?");

/***/ }),

/***/ "./client/src/components/Questions_Answers/ModalWindow.jsx":
/*!*****************************************************************!*\
  !*** ./client/src/components/Questions_Answers/ModalWindow.jsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hoc_click_data.jsx */ \"./client/src/components/hoc_click_data.jsx\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config.js */ \"./client/src/components/Questions_Answers/config.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_config_js__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nconst ModalWindow = props => {\n  const [answer, setAnswer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [question, setQuestion] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [nickname, setNickname] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [email, setEmail] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [isValid, setIsValid] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [imageFiles, setImageFiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [imageFormData, setImageFormData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [isSubmitted, setIsSubmitted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n\n  const generateImageData = files => {\n    let formData = new FormData();\n    formData.append('file', files[0]);\n    formData.append('upload_preset', (_config_js__WEBPACK_IMPORTED_MODULE_3___default().CLOUD_PRESET));\n    let src = URL.createObjectURL(files[0]);\n    let srcArray = imageFiles.concat(src);\n    let formDataArray = imageFormData.concat(formData);\n    setImageFiles(srcArray);\n    setImageFormData(formDataArray);\n  };\n\n  const uploadPhotos = () => {\n    let promises = [];\n\n    for (var i = 0; i < imageFormData.length; i++) {\n      let request = axios__WEBPACK_IMPORTED_MODULE_1___default().post(`https://api.cloudinary.com/v1_1/${(_config_js__WEBPACK_IMPORTED_MODULE_3___default().CLOUD_NAME)}/image/upload`, imageFormData[i]);\n      promises.push(request);\n    }\n\n    return Promise.all(promises).then(responseArr => {\n      return responseArr.map(res => {\n        return res.data.secure_url;\n      });\n    }).catch(err => {\n      console.log('err: ', err);\n    });\n  };\n\n  const handleAnswerChange = value => {\n    setAnswer(value);\n  };\n\n  const handleQuestionChange = value => {\n    setQuestion(value);\n  };\n\n  const handleNickNameChange = value => {\n    setNickname(value);\n  };\n\n  const handleEmailChange = value => {\n    setEmail(value);\n  };\n\n  const validateEmail = email => {\n    let result = String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n    return result !== null;\n  };\n\n  const isContainOnlyWhiteSpace = value => {\n    return value.trim().length === 0;\n  };\n\n  const validateUserInput = () => {\n    let isAnswerValid = answer.length !== 0 && !isContainOnlyWhiteSpace(answer);\n    let isQuestionValid = question.length !== 0 && !isContainOnlyWhiteSpace(question);\n    let isNicknameValid = nickname.length !== 0 && !isContainOnlyWhiteSpace(nickname);\n    let isEmailValid = email.length !== 0 && !isContainOnlyWhiteSpace(email) && validateEmail(email);\n    let totalValid = (isAnswerValid || isQuestionValid) && isNicknameValid && isEmailValid;\n    setIsValid(totalValid);\n    return totalValid;\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (validateUserInput()) {\n      if (answer.length !== 0) {\n        uploadPhotos().then(data => {\n          submitForm(`/qa/questions/${props.questionId}/answers`, {\n            body: answer,\n            name: nickname,\n            email: email,\n            photos: data\n          }, e.target);\n        });\n      } else if (question.length !== 0) {\n        submitForm(`qa/questions`, {\n          body: question,\n          name: nickname,\n          email: email,\n          product_id: props.productId\n        });\n      }\n    }\n  };\n\n  const submitForm = (url, parameter, e) => {\n    axios__WEBPACK_IMPORTED_MODULE_1___default().post(url, parameter).then(data => {\n      setIsSubmitted(true);\n    }).catch(err => {\n      console.log('Failed to send the form');\n    });\n  };\n\n  const getInvalidFields = () => {\n    let fields;\n\n    if (props.questionBody) {\n      fields = [['answer', answer.length !== 0], ['nickname', nickname.length !== 0], ['email', email.length && validateEmail(email)]];\n    } else {\n      fields = [['question', question.length !== 0], ['nickname', nickname.length !== 0], ['email', email.length && validateEmail(email)]];\n    }\n\n    return fields.filter(field => {\n      if (!field[1]) return field[0];\n    });\n  };\n\n  const closeForm = () => {\n    props.closeForm();\n    setIsValid(false);\n    setIsSubmitted(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal_container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal_content\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"modal_close\",\n    onClick: closeForm\n  }, \"\\xD7\"), isSubmitted ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", null, \"Your request has been submitted!\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: props.closeForm\n  }, \"Close\")) : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, props.questionBody ? /*#__PURE__*/React.createElement(\"h2\", null, \"Submit Your Answer\") : /*#__PURE__*/React.createElement(\"h2\", null, \"Ask Your Question\"), props.questionBody ? /*#__PURE__*/React.createElement(\"h4\", null, props.productName, \": \", props.questionBody) : /*#__PURE__*/React.createElement(\"h4\", null, \"About the \", props.productName), props.questionBody ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"answer_body\"\n  }, \"Your Answer:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"answer_body\",\n    className: \"text_answer\",\n    maxLength: \"1000\",\n    onChange: e => handleAnswerChange(e.target.value)\n  })) : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"question_body\"\n  }, \"Your Question:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"question_body\",\n    className: \"text_question\",\n    maxLength: \"1000\",\n    onChange: e => handleQuestionChange(e.target.value)\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"nickname\"\n  }, \"What is your nickname?\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"nickname\",\n    placeholder: props.questionBody ? \"jackson11!\" : \"Example: jack543!\",\n    maxLength: \"60\",\n    id: \"nickname\",\n    onChange: e => handleNickNameChange(e.target.value)\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"sub_text\"\n  }, \"For privacy reasons, do not use your full name or email address\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\"\n  }, \"Your Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"email\",\n    id: \"email\",\n    onChange: e => handleEmailChange(e.target.value),\n    placeholder: \"Example: jack@email.com\"\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"sub_text\"\n  }, \"For authentication reasons, you will not be emailed\"), props.questionBody && imageFiles.length < 5 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload_button\"\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"upload_text\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: e => generateImageData(e.target.files),\n    multiple: true\n  }), \"Upload your photos\")), imageFiles.map((image, index) => /*#__PURE__*/React.createElement(\"img\", {\n    key: image,\n    src: image,\n    className: \"upload_image\"\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: props.questionBody !== undefined ? 'Submit answer' : 'Submit question',\n    className: \"submit_button\"\n  })), isValid === false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: `form_warning${email.length ? '_format_error' : ''}`\n  }, \"You must enter the following: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_warning\"\n  }, getInvalidFields().map(f => {\n    if (f[0] === 'email' && email.length && !validateEmail(email)) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: f\n      }, \"Your email does not meet the right format\");\n    }\n\n    if (f.length === 0) return /*#__PURE__*/React.createElement(React.Fragment, null);\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: f[0]\n    }, f[0]);\n  }))) : /*#__PURE__*/React.createElement(\"div\", null))));\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ModalWindow, 'questions_answers'));\n\n//# sourceURL=webpack://my-webpack-project/./client/src/components/Questions_Answers/ModalWindow.jsx?");

/***/ }),

/***/ "./client/src/components/Questions_Answers/QA.jsx":
/*!********************************************************!*\
  !*** ./client/src/components/Questions_Answers/QA.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Question_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Question.jsx */ \"./client/src/components/Questions_Answers/Question.jsx\");\n/* harmony import */ var _Answer_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Answer.jsx */ \"./client/src/components/Questions_Answers/Answer.jsx\");\n/* harmony import */ var _hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hoc_click_data.jsx */ \"./client/src/components/hoc_click_data.jsx\");\n\n\n\n\n\nclass QA extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      answers: [],\n      seeMoreAnswers: false\n    };\n    this.getAnswers = this.getAnswers.bind(this);\n    this.sortAnswers = this.sortAnswers.bind(this);\n    this.handleViewMoreAnswers = this.handleViewMoreAnswers.bind(this);\n    this.collapseAnswers = this.collapseAnswers.bind(this);\n  }\n\n  async componentDidMount() {\n    let answers = await this.getAnswers();\n    let sortedAnswers = this.sortAnswers(answers);\n    this.setState({\n      answers: sortedAnswers\n    });\n  }\n\n  getAnswers() {\n    let questionId = this.props.qa.question_id;\n    let numberOfAnswers = Object.keys(this.props.qa.answers).length;\n    return axios__WEBPACK_IMPORTED_MODULE_0___default().get(`/qa/questions/${questionId}/answers/${numberOfAnswers}`).then(data => {\n      return data.data.results;\n    }).catch(err => {\n      console.log('Failed to retrieve answers for the question');\n    });\n  }\n\n  sortAnswers(data) {\n    let sellerSorted = data.filter(answer => {\n      return answer.answerer_name === 'Seller';\n    }).sort((a, b) => b.helpfulness - a.helpfulness);\n    let notSellerSorted = data.filter(answer => {\n      return answer.answerer_name !== 'Seller';\n    }).sort((a, b) => b.helpfulness - a.helpfulness);\n    return sellerSorted.concat(notSellerSorted);\n  }\n\n  handleViewMoreAnswers(e) {\n    this.props.interaction(e.target);\n    this.setState({\n      seeMoreAnswers: true\n    });\n  }\n\n  collapseAnswers(e) {\n    this.props.interaction(e.target);\n    this.setState({\n      seeMoreAnswers: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"QA_container\"\n    }, /*#__PURE__*/React.createElement(_Question_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      question: this.props.qa,\n      productId: this.props.productId,\n      productName: this.props.productName\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.seeMoreAnswers ? \"answers_expand_mode\" : undefined\n    }, this.state.answers.map((answer, index) => {\n      if (index > 1) return;\n      return /*#__PURE__*/React.createElement(_Answer_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        key: index,\n        answer: answer\n      });\n    }), this.state.seeMoreAnswers && this.state.answers.map((answer, index) => {\n      if (index < 2) return;\n      return /*#__PURE__*/React.createElement(_Answer_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        key: index,\n        answer: answer\n      });\n    })), this.state.answers.length > 2 && !this.state.seeMoreAnswers && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"load_more_answers\",\n      onClick: this.handleViewMoreAnswers\n    }, \"LOAD MORE ANSWERS\"), this.state.seeMoreAnswers && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"collapse_answers\",\n      onClick: this.collapseAnswers\n    }, \"COLLAPSE ANSWERS\"));\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(QA, 'questions_answers'));\n\n//# sourceURL=webpack://my-webpack-project/./client/src/components/Questions_Answers/QA.jsx?");

/***/ }),

/***/ "./client/src/components/Questions_Answers/Question.jsx":
/*!**************************************************************!*\
  !*** ./client/src/components/Questions_Answers/Question.jsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModalWindow_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModalWindow.jsx */ \"./client/src/components/Questions_Answers/ModalWindow.jsx\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hoc_click_data.jsx */ \"./client/src/components/hoc_click_data.jsx\");\n\n\n // this class handles each question for the specific product\n\nclass Question extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      helpfulness: props.question.question_helpfulness,\n      isFormShown: false,\n      isYesClicked: false\n    };\n    this.handleAddAnswer = this.handleAddAnswer.bind(this);\n    this.handleIncreaseCounts = this.handleIncreaseCounts.bind(this);\n    this.closeForm = this.closeForm.bind(this);\n  }\n\n  handleAddAnswer(e) {\n    this.props.interaction(e.target);\n    this.setState({\n      isFormShown: true\n    });\n  }\n\n  closeForm() {\n    this.setState({\n      isFormShown: false\n    });\n  }\n\n  handleIncreaseCounts(e) {\n    this.props.interaction(e.target);\n    this.setState({\n      isYesClicked: true,\n      helpfulness: this.state.helpfulness + 1\n    }, () => {\n      axios__WEBPACK_IMPORTED_MODULE_1___default().put(`/qa/questions/${this.props.question.question_id}/helpful`).then(data => {\n        if (data.status !== 204) {\n          throw err;\n        }\n      }).catch(err => {\n        console.log('failed to increment counts');\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question_container\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"question\"\n    }, \"Q: \", this.props.question.question_body), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"helpful_container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"helpful_text\"\n    }, \"Helpful?\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"yes_button\",\n      disabled: this.state.isYesClicked,\n      onClick: this.handleIncreaseCounts\n    }, \"Yes\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"helpfulness_number\"\n    }, \"(\", this.state.helpfulness, \")\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border_line\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"add_answer_button\",\n      onClick: this.handleAddAnswer\n    }, \"Add Answer\")), this.state.isFormShown && /*#__PURE__*/React.createElement(_ModalWindow_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"], {\n      productId: this.props.productId,\n      questionId: this.props.question.question_id,\n      questionBody: this.props.question.question_body,\n      productName: this.props.productName,\n      isFormShown: this.state.isFormShown,\n      closeForm: this.closeForm\n    }));\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Question, 'questions_answers'));\n\n//# sourceURL=webpack://my-webpack-project/./client/src/components/Questions_Answers/Question.jsx?");

/***/ }),

/***/ "./client/src/components/Questions_Answers/Questions_Answers.jsx":
/*!***********************************************************************!*\
  !*** ./client/src/components/Questions_Answers/Questions_Answers.jsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Search_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Search.jsx */ \"./client/src/components/Questions_Answers/Search.jsx\");\n/* harmony import */ var _ModalWindow_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ModalWindow.jsx */ \"./client/src/components/Questions_Answers/ModalWindow.jsx\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _QA_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./QA.jsx */ \"./client/src/components/Questions_Answers/QA.jsx\");\n/* harmony import */ var _hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hoc_click_data.jsx */ \"./client/src/components/hoc_click_data.jsx\");\n\n\n\n\n // this class is top-level component for Questions_Answers\n\nclass Questions_Answers extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      QAs: [],\n      filteredQAs: [],\n      isFormShown: false,\n      searchWord: '',\n      counts: 2\n    };\n    this.getAllQuestions = this.getAllQuestions.bind(this);\n    this.sortQuestionsByHelpfulness = this.sortQuestionsByHelpfulness.bind(this);\n    this.handleAddQuestion = this.handleAddQuestion.bind(this);\n    this.handleViewMoreQuestions = this.handleViewMoreQuestions.bind(this);\n    this.closeForm = this.closeForm.bind(this);\n    this.handleChangeSearch = this.handleChangeSearch.bind(this);\n    this.filterSearch = this.filterSearch.bind(this);\n  }\n\n  componentDidMount() {\n    this.getAllQuestions();\n  }\n\n  getAllQuestions() {\n    return axios__WEBPACK_IMPORTED_MODULE_2___default().get(`/qa/questions/${this.props.productId}/20`).then(data => {\n      let sortedQAs = this.sortQuestionsByHelpfulness(data.data.results);\n      this.setState({\n        QAs: sortedQAs\n      });\n    }).catch(err => {\n      console.log('Failed to render questions for the product');\n    });\n  }\n\n  sortQuestionsByHelpfulness(data) {\n    return data.sort((a, b) => {\n      return b.question_helpfulness - a.question_helpfulness;\n    });\n  }\n\n  handleAddQuestion(e) {\n    this.props.interaction(e.target);\n    this.setState({\n      isFormShown: true\n    });\n  }\n\n  handleViewMoreQuestions(e) {\n    this.props.interaction(e.target);\n    this.setState({\n      counts: this.state.counts += 2\n    });\n  }\n\n  closeForm() {\n    this.setState({\n      isFormShown: false\n    });\n  }\n\n  handleChangeSearch(value) {\n    this.setState({\n      searchWord: value,\n      filteredQAs: this.filterSearch(this.state.QAs)\n    });\n  }\n\n  filterSearch(data) {\n    let results = data.filter(question => {\n      return question.question_body.includes(this.state.searchWord);\n    });\n    return results;\n  }\n\n  render() {\n    if (!this.props.productId || !this.props.productName) {\n      throw new Error('The product ID or product name is not specified');\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"questions_answers\"\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"questions_answers_title\"\n    }, \"QUESTIONS & ANSWERS\"), /*#__PURE__*/React.createElement(_Search_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"], {\n      handleChangeSearch: this.handleChangeSearch\n    }), this.state.searchWord.length < 2 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: `questions${this.state.counts > 3 ? '_expand_mode' : ''}`\n    }, this.state.QAs.slice(0, this.state.counts).map((qa, index) => {\n      return /*#__PURE__*/React.createElement(_QA_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        key: index,\n        qa: qa,\n        productId: this.props.productId,\n        productName: this.props.productName\n      });\n    })) : /*#__PURE__*/React.createElement(React.Fragment, null, this.state.filteredQAs.map(qa => {\n      return /*#__PURE__*/React.createElement(_QA_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        key: qa.question_id,\n        productId: this.props.productId,\n        qa: qa,\n        productName: this.props.productName\n      });\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"questions_btn\"\n    }, this.state.QAs.length > 2 && this.state.counts < this.state.QAs.length && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"more_answered_questions\",\n      onClick: this.handleViewMoreQuestions\n    }, \"More answered questions\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"add_question\",\n      onClick: this.handleAddQuestion\n    }, \"Add A Question +\")), this.state.isFormShown && /*#__PURE__*/React.createElement(_ModalWindow_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      productId: this.props.productId,\n      productName: this.props.productName,\n      closeForm: this.closeForm\n    }));\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_hoc_click_data_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Questions_Answers, 'questions_answers'));\n\n//# sourceURL=webpack://my-webpack-project/./client/src/components/Questions_Answers/Questions_Answers.jsx?");

/***/ }),

/***/ "./client/src/components/Questions_Answers/Search.jsx":
/*!************************************************************!*\
  !*** ./client/src/components/Questions_Answers/Search.jsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst Search = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search_container\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"search_input\",\n    placeholder: \"HAVE A QUESTION? SEARCH FOR ANSWERS\\u2026\",\n    onChange: e => props.handleChangeSearch(e.target.value)\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa-solid fa-magnifying-glass search_icon\"\n  }));\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Search);\n\n//# sourceURL=webpack://my-webpack-project/./client/src/components/Questions_Answers/Search.jsx?");

/***/ }),

/***/ "./client/src/components/Questions_Answers/config.js":
/*!***********************************************************!*\
  !*** ./client/src/components/Questions_Answers/config.js ***!
  \***********************************************************/
/***/ ((module) => {

eval("module.exports = {\n  CLOUD_NAME: \"dgbojnm96\",\n  CLOUD_PRESET: \"fec_atelier\"\n};\n\n//# sourceURL=webpack://my-webpack-project/./client/src/components/Questions_Answers/config.js?");

/***/ }),

/***/ "./client/src/components/hoc_click_data.jsx":
/*!**************************************************!*\
  !*** ./client/src/components/hoc_click_data.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\nconst withClickData = (WrappedComponent, widget) => {\n  class ClickData extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {\n    constructor(props) {\n      super(props);\n    }\n\n    interactionFunc(target) {\n      var element = target.id ? target.nodeName + '#' + target.id : target.nodeName + '.' + target.className;\n      var time = String(new Date());\n      axios__WEBPACK_IMPORTED_MODULE_1___default().post('/interactions', {\n        element,\n        widget,\n        time\n      }).then(response => {\n        if (response.status === 201) {\n          console.log(response.data);\n        }\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n\n    render() {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(WrappedComponent, _extends({}, this.props, {\n        interaction: this.interactionFunc.bind(this)\n      }));\n    }\n\n  }\n\n  return ClickData;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (withClickData);\n\n//# sourceURL=webpack://my-webpack-project/./client/src/components/hoc_click_data.jsx?");

/***/ })

}]);